
<div class="container-fluid text-center mb-5">
 
    <h1>Formulario</h1>
 
    <form [formGroup]="form" (ngSubmit)="addProducto()"  id="form-1" >
        <div class="mb-3">
            <label for="nombre" class="form-label">Nombre</label>
            <input type="text" class="form-control" id="nombre" formControlName="nombre">
            <div *ngIf="form.get('nombre')?.invalid && form.get('nombre')?.touched">
                <small>El nombre es requerido</small>
            </div>
        </div>
        <div class="mb-3">
            <label for="marca" class="form-label">Marca</label>
            <input type="text" class="form-control" id="marca" formControlName="marca">
            <div *ngIf="form.get('marca')?.invalid && form.get('marca')?.touched">
                <small>La Marca es requerido</small>
            </div>
        </div>
        <div class="mb-3">
            <label for="imagen" class="form-label">Imagen Url</label>
            <input type="text" class="form-control" id="imagen" formControlName="imagen">
            <div *ngIf="form.get('imagen')?.invalid && form.get('imagen')?.touched">
                <small>La imagen es requerido</small>
            </div>
            <nz-upload nzAction="https://www.mocky.io/v2/5cc8019d300000980a055e76"
                >
                <button nz-button>
                    <span nz-icon nzType="upload"></span>
                    Click to Upload
                </button>
            </nz-upload>
        </div>
        <div class="mb-3">
            <label for="precio" class="form-label">Precio</label>
            <input type="text" class="form-control" id="precio" formControlName="precio">
            <div *ngIf="form.get('precio')?.invalid && form.get('precio')?.touched">
                <small>El precio es requerido</small>
            </div>
        </div>
        <div class="mb-3">
            <label for="descripcion" class="form-label">Descripción</label>
            <input type="text" class="form-control" id="descripcion" formControlName="descripcion">
            <div *ngIf="form.get('descripcion')?.invalid && form.get('descripcion')?.touched">
                <small>La Descripción es requerido</small>
            </div>
        </div>
        <button type="submit" class="btn btn-primary">Crear</button>
        
    </form>
</div>
<hr>

  

<h1>Productos</h1>

<nz-table #editRowTable nzBordered [nzData]="producto" nzTableLayout="fixed">
    <thead>
        <tr>
            <th >Producto</th>
            <th >Marca</th>
            <th >Precio</th>
            <th>Imagen</th>
            <th >Descripción</th>
            <th >Opciones</th>
        </tr>
    </thead>
    <tbody>
        @for (data of editRowTable.data; track data) {
        <tr>
            
            <td>{{ data.nombre }}</td>
            <td>{{ data.marca }}</td>   
            <td>${{ data.precio }}</td>
            <td><img [src]="data.photoURL"  alt="photo"></td>
            <td>{{ data.descripcion }}</td>
            <td>
                <a class="btn btn-outline-danger" (click)="deleteProducto(data)">Eliminar</a>
                <a class="btn btn-outline-warning" (click)="editProducto(data)">Editar</a>
                <a class="btn btn-outline-success" (click)="updateProducto(data)">Actualizar</a>
            </td>
        </tr>
        }
    </tbody>
</nz-table>